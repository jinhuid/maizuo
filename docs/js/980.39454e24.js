"use strict";(self["webpackChunkmaizuo"]=self["webpackChunkmaizuo"]||[]).push([[980],{5772:function(e,t,i){i(2760),i(4800),i(8603)},1057:function(e,t,i){i.d(t,{A:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"step",mode:"out-in",appear:!0}},[e._t("default")],2)},n=[],a=i(4068),r={},l=(0,a.A)(r,s,n,!1,null,"18c90fb7",null),c=l.exports},980:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});i(3297);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[e.cinemaInfo?t("header",[t("div",{staticClass:"header-left"},[t("van-icon",{staticClass:"return",attrs:{name:"arrow-left",size:"24"},on:{click:function(t){return e.$router.back()}}})],1),t("div",{staticClass:"header-title",attrs:{"data-v-18fbab6c":""}},[e._v(e._s(e.cinemaInfo.name))]),e.cinemaInfo.services?t("div",{staticClass:"services"},[e._l(e.cinemaInfo.services,(function(i,s){return t("span",{key:s,staticClass:"services-item"},[e._v(e._s(i.name))])})),t("van-icon",{attrs:{name:"arrow",size:"12"}})],2):e._e(),t("div",{staticClass:"address"},[t("van-icon",{attrs:{name:"location-o",size:"24"}}),t("div",{staticClass:"address-dev"},[e._v(" "+e._s(e.cinemaInfo.address)+" ")]),t("a",{attrs:{href:`tel:${e.cinemaInfo.phone}`}},[t("van-icon",{attrs:{name:"phone-o",size:"24"}})],1)],1)]):e._e(),e.filmsInfo.length?t("section",[t("div",{staticClass:"film"},[t("div",{staticClass:"bg",style:{backgroundImage:`url(${e.filmsInfo[e.currentIndex].poster})`}}),t("div",{staticClass:"mySwiper"},[t("film-swiper",{attrs:{index:e.currentIndex,items:e.filmsInfo},on:{setIndex:e.current},scopedSlots:e._u([{key:"default",fn:function({item:e}){return[t("ImgFade",[t("img",{staticClass:"swiperItem",attrs:{src:e.poster,alt:""}})])]}}],null,!1,3293653063)})],1)]),t("div",{staticClass:"film-info",on:{click:function(t){return e.$router.push(`/detail/${e.filmsInfo[e.currentIndex].filmId}`)}}},[t("div",{staticClass:"film-head"},[t("span",{staticClass:"film-name"},[e._v(e._s(e.filmsInfo[e.currentIndex].name))]),t("span",{staticClass:"film-score"},[e._v(e._s(e.filmsInfo[e.currentIndex].grade))]),t("span",{staticClass:"film-unit"},[e._v("分")])]),t("div",{staticClass:"film-dec"},[e._v(" "+e._s(e.filmsInfo[e.currentIndex].category)+" | "+e._s(e.filmsInfo[e.currentIndex].runtime)+"分钟 | "+e._s(e.filmsInfo[e.currentIndex].director+" | ")+e._s(e.filterActors(e.filmsInfo[e.currentIndex].actors))+" ")]),t("img",{staticClass:"film-more",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAYCAYAAADOMhxqAAAAAXNSR0IArs4c6QAAAhJJREFUOBGFU79PFEEUnh932Liz1xDAMezRaWFBrlEaw8XORBNjSAw0hIbWzmBri38BIdIZFRIKEyCBmGhMLC38EQu9u9wASkNuz0S4g+F7w+zGhT19xc778X1vZr55K7XWDwMVLgehCuNW6w37j0mAX1lrNbPsZqhK3Thuvf0XR15UgQbgBoEss+MqKH0F6VMvkrg0OPiIc7bpAZxx+0zryDXII3FKlsvl0sFh5z3cqx60VyzI641G47uP00WQV6vV9vuKhdtwf/lKf7d79Joa+ThdHIGier3+Q3B2l3P+h2LL2JXDTnelUqkUKU5MJg6tcRw3lQq+AXwfIR13pP27fRn5VaqTZQiUQPGzCsMDbHGLYthooFSnHcdO7nMEQuAB34E0DNIoxbBqIrdT6TSX/dLZd3Z/ruFRq1Shu3Emqz0JBDorN0gfU5UIkGfomGnak0BHgqzLJC81Oj2Snc29tAMIsWAtu+d3tXijSWPMRu4OQ1rPATztwYwLPgfwS9coSSar1sMTx/boOWJ3doAXt5vNmaSe2YGm1LLjpRTM+dbQwMBsAqY1VSCKohFc8gNy/R7w5UJfcYwG08ducZcmvQHeQibyxT1M7zgGcvdvMPkikQ+++xdIPihyh6b3LJhiKURhHs//wBchn5wyprmeB6acwH88kRY5e2xM40Ua5zgS82/xjNcg39MdY57kYDKpEyF1uKDTCa4lAAAAAElFTkSuQmCC"}})]),t("keep-alive",[e.cinemaInfo?t("film-list",{key:e.currentIndex,attrs:{filmsInfo:e.filmsInfo,currentIndex:e.currentIndex,cinemaInfo:e.cinemaInfo}}):e._e()],1)],1):e._e()])},n=[],a=(i(5772),i(8394)),r=i(5422),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"swiper-container"},[t("div",{staticClass:"swiper-wrapper"},e._l(e.items,(function(i,s){return t("div",{key:s,staticClass:"swiper-slide"},[e._t("default",null,{item:i,index:s})],2)})),0)])},c=[],o={props:{index:{type:Number,default:0},items:{type:Array,require:!0}},mounted(){let e=this;new this.$Swiper(".swiper-container",{slideToClickedSlide:!0,speed:300,slidesPerView:4,initialSlide:this.index,spaceBetween:16,centeredSlides:!0,on:{slideChangeTransitionStart(){e.$emit("setIndex",this.activeIndex)}}})}},d=o,m=i(4068),f=(0,m.A)(d,l,c,!1,null,"d59f14da",null),u=f.exports,I=i(1057),h={data(){return{cinemaInfo:null,filmsInfo:[],currentIndex:0,window:window}},components:{[a.A.name]:a.A,FilmSwiper:u,FilmList:()=>Promise.all([i.e(571),i.e(979)]).then(i.bind(i,4134)),ImgFade:I.A},methods:{filterActors(e){return e.map((e=>e.name)).join(" ")},current(e){this.currentIndex=e},setSectionHeight(){let e=document.querySelector("header");document.querySelector(".main").style.setProperty("--HeaderHeight",e.clientHeight+"px")}},mounted(){Promise.all([(0,r.A)({url:`https://m.maizuo.com/gateway/?cinemaId=${this.$route.params.cinemaId}&k=4650178`,headers:{"X-Host":"mall.film-ticket.cinema.info"}}).then((e=>{this.cinemaInfo=e.data.data.cinema})),(0,r.A)({url:`https://m.maizuo.com/gateway/?cinemaId=${this.$route.params.cinemaId}&k=4650178`,headers:{"X-Host":"mall.film-ticket.film.cinema-show-film"}}).then((e=>{this.filmsInfo.push(...e.data.data.films),this.$store.state.filmId&&(this.currentIndex=this.filmsInfo.findIndex((e=>e.filmId===this.$store.state.filmId)))}))]).then((()=>{this.setSectionHeight()}))}},A=h,p=(0,m.A)(A,s,n,!1,null,"5bc6af44",null),v=p.exports}}]);