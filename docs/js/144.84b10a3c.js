(self["webpackChunkmaizuo"]=self["webpackChunkmaizuo"]||[]).push([[144],{6769:function(t){const e=function(t,e){const s={},a="日一二三四五六";let i=new Date(t);s.year=i.getFullYear()+"年",s.month=i.getMonth()+1+"月",s.day=i.getDate()+"日",s.hour=i.getHours().toString().padStart(2,"0"),s.minute=i.getMinutes().toString().padStart(2,"0"),s.week="星期"+a.charAt(i.getDay());const n=Date.now();if(e.includes("week")){t=t-36e5*s.hour-6e4*s.minute;const e=(t-n)/1e3;e>=-86400&&e<0?s.week="今天":e>=0&&e<86400?s.week="明天":e>=86400&&e<172800&&(s.week="后天")}return e.map((t=>s[t]||t)).join("")};t.exports=e},4988:function(t,e,s){"use strict";var a=s(7350);e.A={inserted(t,e){const s=new IntersectionObserver((i=>{i[0].isIntersecting&&(a.Ay.set(e.value,"show",!0),s.unobserve(t))}),{threshold:[0]});s.observe(t)}}},1057:function(t,e,s){"use strict";s.d(e,{A:function(){return l}});var a=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"step",mode:"out-in",appear:!0}},[t._t("default")],2)},i=[],n=s(4068),o={},r=(0,n.A)(o,a,i,!1,null,"18c90fb7",null),l=r.exports},3144:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return v}});var a=function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"filmsDetail"},t._l(t.dataList,(function(s){return e("li",{directives:[{name:"lazy",rawName:"v-lazy",value:s,expression:"item"}],key:s.filmId,on:{click:function(e){return t.handleChangePage(s.filmId)}}},[e("div",{staticClass:"imgBox"},[e("ImgFade",[e("img",{directives:[{name:"show",rawName:"v-show",value:s.show,expression:"item.show"}],attrs:{src:s.poster,alt:""}})])],1),e("div",{staticClass:"FilmInformation"},[e("div",[e("span",{staticClass:"name"},[t._v(t._s(s.name)+" ")]),e("span",{staticClass:"item"},[t._v(t._s(s.filmType.name))])]),e("div",[e("span",{staticClass:"label"},[t._v("主演："),s.actors?e("span",[t._v(t._s(t._f("actors")(s.actors)))]):e("span",[t._v("暂无人员")])])]),e("div",{staticClass:"label"},[t._v("上映日期："+t._s(t.getDate(1e3*s.premiereAt)))])]),s.isPresale?e("div",{staticClass:"buy"},[t._v("预售")]):t._e()])})),0),t.show?e("div",{staticClass:"noMore"},[t._v("无更多电影")]):t._e()])},i=[],n=(s(3297),s(5422)),o=s(7350),r=s(4988),l=s(6769),u=s.n(l),c=s(1057);o.Ay.directive("lazy",r.A),o.Ay.filter("actors",(t=>t.map((t=>t.name)).join(" ")));var d={data(){return{dataList:[],page:1,tag:!0,show:!1}},components:{ImgFade:c.A},methods:{getDate(t){return u()(t,["week"," ","month","day"])},handleChangePage(t){this.$store.commit("footerHide"),this.$router.push({name:"详情",params:{myID:t}})},sendRequest(){this.tag=!1,(0,n.A)({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=${this.page++}&pageSize=10&type=2&k=2116`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.dataList.length!=t.data.data.total?(this.dataList.push(...t.data.data.films),this.tag=!0):this.show=!0}))}},mounted(){this.sendRequest();const t=document.documentElement;window.onscroll=()=>{t.scrollHeight-t.clientHeight-40<=t.scrollTop&&this.tag&&this.sendRequest()}},beforeDestroy(){window.onscroll=null}},m=d,h=s(4068),p=(0,h.A)(m,a,i,!1,null,"67f06752",null),v=p.exports}}]);